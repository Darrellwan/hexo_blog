{
  "name": "[Template]Daily Skills.sh Trending",
  "nodes": [
    {
      "parameters": {
        "rule": {
          "interval": [
            {
              "triggerAtHour": 8
            }
          ]
        }
      },
      "type": "n8n-nodes-base.scheduleTrigger",
      "typeVersion": 1.3,
      "position": [
        -336,
        -32
      ],
      "id": "ca71638e-9f0e-4772-a209-9b4bb8baa6d3",
      "name": "æ¯æ—¥æ—©ä¸Š 8 é»è§¸ç™¼"
    },
    {
      "parameters": {
        "url": "https://skills.sh/trending",
        "options": {}
      },
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.3,
      "position": [
        -128,
        -32
      ],
      "id": "2c555302-7b36-49ab-acaf-5cc954e6b72a",
      "name": "æŠ“å– Skills.sh è¶¨å‹¢é é¢"
    },
    {
      "parameters": {
        "operation": "extractHtmlContent",
        "extractionValues": {
          "values": [
            {
              "key": "skills_html",
              "cssSelector": "main div div a.group",
              "returnValue": "html",
              "returnArray": true
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.html",
      "typeVersion": 1.2,
      "position": [
        80,
        -32
      ],
      "id": "bc8cf040-b805-4e2d-8981-94eac4c80477",
      "name": "æå–æ’è¡Œæ¦œåˆ—è¡¨"
    },
    {
      "parameters": {
        "fieldToSplitOut": "skills_html",
        "options": {}
      },
      "type": "n8n-nodes-base.splitOut",
      "typeVersion": 1,
      "position": [
        288,
        -32
      ],
      "id": "3d1811b8-d130-454a-8d90-a9fdab24b9ab",
      "name": "æ‹†åˆ†ç‚ºç¨ç«‹é …ç›®"
    },
    {
      "parameters": {
        "maxItems": 20
      },
      "type": "n8n-nodes-base.limit",
      "typeVersion": 1,
      "position": [
        496,
        -32
      ],
      "id": "a412c28b-5c49-4725-880e-b78e05c92d1d",
      "name": "å–å‰ 20 å"
    },
    {
      "parameters": {
        "operation": "extractHtmlContent",
        "dataPropertyName": "skills_html",
        "extractionValues": {
          "values": [
            {
              "key": "skill_name",
              "cssSelector": "div h3"
            },
            {
              "key": "skills_repo",
              "cssSelector": "div p"
            },
            {
              "key": "installs",
              "cssSelector": "div span.text-foreground"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.html",
      "typeVersion": 1.2,
      "position": [
        704,
        -32
      ],
      "id": "8bbfab7b-b652-4e9a-8d28-424d12553a82",
      "name": "æå–æŠ€èƒ½åç¨±å’Œå®‰è£æ•¸"
    },
    {
      "parameters": {
        "assignments": {
          "assignments": [
            {
              "id": "c473d02e-4223-45cb-ae18-23cd2cc5b500",
              "name": "installs",
              "value": "={{ \n  (() => {\n    let str = ($json.installs || \"\").trim().toUpperCase();\n    if (!str) return 0;\n    \n    let multiplier = 1;\n    let lastChar = str.slice(-1);\n    \n    if (lastChar === \"K\") multiplier = 1000;\n    if (lastChar === \"M\") multiplier = 1000000;\n    if (lastChar === \"B\") multiplier = 1000000000;\n    \n    let numStr = str;\n    if ([\"K\",\"M\"].includes(lastChar)) {\n      numStr = str.slice(0, -1);\n    }\n    \n    let num = parseFloat(numStr);\n    if (isNaN(num)) return 0;\n    \n    return num * multiplier;\n  })()\n}}",
              "type": "string"
            }
          ]
        },
        "includeOtherFields": true,
        "options": {}
      },
      "type": "n8n-nodes-base.set",
      "typeVersion": 3.4,
      "position": [
        912,
        -32
      ],
      "id": "3f6f8b61-a992-447a-a947-268261feda80",
      "name": "è½‰æ›å®‰è£æ•¸ç‚ºæ•¸å­—"
    },
    {
      "parameters": {
        "aggregate": "aggregateAllItemData",
        "options": {}
      },
      "type": "n8n-nodes-base.aggregate",
      "typeVersion": 1,
      "position": [
        1200,
        -208
      ],
      "id": "35890c5b-0bec-4e60-a2a6-0cdb77e68d8e",
      "name": "å½™ç¸½å…¨éƒ¨è³‡æ–™"
    },
    {
      "parameters": {
        "operation": "appendOrUpdate",
        "documentId": {
          "__rl": true,
          "value": "",
          "mode": "list",
          "cachedResultName": "",
          "cachedResultUrl": ""
        },
        "sheetName": {
          "__rl": true,
          "value": "gid=0",
          "mode": "list",
          "cachedResultName": "Sheet1",
          "cachedResultUrl": ""
        },
        "columns": {
          "mappingMode": "autoMapInputData",
          "value": {},
          "matchingColumns": [],
          "schema": [
            {
              "id": "skill_name",
              "displayName": "skill_name",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "skills_repo",
              "displayName": "skills_repo",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "installs",
              "displayName": "installs",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "date",
              "displayName": "date",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.7,
      "position": [
        1424,
        80
      ],
      "id": "3792e76b-a7f1-4314-b42f-1f50b4d8f1f1",
      "name": "å¯«å…¥ Google Sheets"
    },
    {
      "parameters": {
        "assignments": {
          "assignments": [
            {
              "id": "bab9e197-3aaa-4e22-8256-57bf59732322",
              "name": "date",
              "value": "={{ $today.format('yyyy-MM-dd') }}",
              "type": "string"
            }
          ]
        },
        "includeOtherFields": true,
        "options": {}
      },
      "type": "n8n-nodes-base.set",
      "typeVersion": 3.4,
      "position": [
        1216,
        80
      ],
      "id": "b42d1b51-a0ce-41ac-b7d1-b528dbd8fcff",
      "name": "åŠ å…¥ä»Šæ—¥æ—¥æœŸ"
    },
    {
      "parameters": {
        "assignments": {
          "assignments": [
            {
              "id": "6606106b-f6a4-4e93-9177-fdd1ea62d3ab",
              "name": "template",
              "value": "={{ (function() {\n  const items = $json.data.sort((a, b) => parseInt(b.installs) - parseInt(a.installs));\n  const total = items.reduce((sum, item) => sum + parseInt(item.installs), 0);\n  \n  const rows = items.map((item, i) => {\n    const rank = i === 0 ? 'ğŸ¥‡' : i === 1 ? 'ğŸ¥ˆ' : i === 2 ? 'ğŸ¥‰' : (i + 1) + '.';\n    const rankColor = i < 3 ? '#888' : '#666';\n    const installs = parseInt(item.installs).toLocaleString();\n    return '<tr><td style=\"padding:12px 24px;\"><table role=\"presentation\" width=\"100%\" cellpadding=\"0\" cellspacing=\"0\" border=\"0\"><tr><td width=\"28\" style=\"font-size:' + (i < 3 ? '14' : '12') + 'px; color:' + rankColor + ';\">' + rank + '</td><td style=\"font-size:14px; color:#fff;\"><a href=\"https://skills.sh/' + item.skills_repo + '/' + item.skill_name + '\" style=\"color:#fff; text-decoration:none;\">' + item.skill_name + '</a></td><td width=\"70\" align=\"right\"><span style=\"background-color:#2a2a2a; padding:2px 8px; border-radius:4px; font-size:12px; color:#ccc;\">' + installs + '</span></td></tr></table></td></tr>';\n  }).join('');\n  \n  return '<!DOCTYPE html><html><head><meta charset=\"utf-8\"><meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\"><meta name=\"color-scheme\" content=\"dark\"><title>Skills</title></head><body style=\"margin:0; padding:0; background-color:#0d0d0d; font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,sans-serif;\"><table role=\"presentation\" width=\"100%\" cellpadding=\"0\" cellspacing=\"0\" border=\"0\" style=\"background-color:#0d0d0d;\"><tr><td align=\"center\" style=\"padding:32px 16px;\"><table role=\"presentation\" width=\"100%\" cellpadding=\"0\" cellspacing=\"0\" border=\"0\" style=\"max-width:520px; background-color:#1a1a1a; border-radius:16px;\"><tr><td style=\"padding:24px 24px 16px 24px;\"><span style=\"font-size:18px; font-weight:700; color:#ffffff;\">Skills å®‰è£æ’è¡Œæ¦œ</span></td></tr><tr><td style=\"padding:0 24px;\"><div style=\"border-top:1px solid #333;\"></div></td></tr>' + rows + '<tr><td style=\"padding:8px 24px 0 24px;\"><div style=\"border-top:1px solid #333;\"></div></td></tr><tr><td style=\"padding:16px 24px 24px 24px;\"><table role=\"presentation\" width=\"100%\" cellpadding=\"0\" cellspacing=\"0\" border=\"0\"><tr><td style=\"font-size:13px; color:#888;\">å…± ' + items.length + ' å€‹æŠ€èƒ½ Â· ç¸½å®‰è£ ' + total.toLocaleString() + ' æ¬¡</td><td align=\"right\"><a href=\"https://skills.sh/trending\" style=\"display:inline-block; background-color:#fff; padding:8px 16px; border-radius:6px; font-size:13px; font-weight:600; color:#111; text-decoration:none;\">ç€è¦½å…¨éƒ¨ â†’</a></td></tr></table></td></tr></table></td></tr></table></body></html>';\n})() }}",
              "type": "string"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.set",
      "typeVersion": 3.4,
      "position": [
        1424,
        -144
      ],
      "id": "0f908a38-4e5e-480f-8b03-d81b03de7b5f",
      "name": "ç”Ÿæˆ Email æ’è¡Œæ¦œæ¨¡æ¿"
    },
    {
      "parameters": {
        "sendTo": "",
        "subject": "=[n8n] {{ $today.format('yyyy-MM-dd') }} Skills æ’è¡Œæ¦œ",
        "message": "={{ $json.template }}",
        "options": {}
      },
      "type": "n8n-nodes-base.gmail",
      "typeVersion": 2.2,
      "position": [
        1632,
        -144
      ],
      "id": "f6e6d7ad-bcb9-48eb-a794-c4f60ee5b346",
      "name": "å¯„é€ Email å ±å‘Š"
    },
    {
      "parameters": {
        "select": "channel",
        "channelId": {
          "__rl": true,
          "value": "",
          "mode": "list",
          "cachedResultName": ""
        },
        "messageType": "block",
        "blocksUi": "={{ JSON.stringify({\n  blocks: [\n    {\n      type: \"header\",\n      text: {\n        type: \"plain_text\",\n        text: \"ğŸ“Š Claude Skills å®‰è£æ’è¡Œæ¦œ\",\n        emoji: true\n      }\n    },\n    {\n      type: \"divider\"\n    },\n    ...$json.data\n      .sort((a, b) => parseInt(b.installs) - parseInt(a.installs))\n      .slice(0, 10)\n      .map((item, i) => ({\n        type: \"section\",\n        text: {\n          type: \"mrkdwn\",\n          text: (i === 0 ? \"ğŸ¥‡\" : i === 1 ? \"ğŸ¥ˆ\" : i === 2 ? \"ğŸ¥‰\" : (i + 1) + \".\") + \" *\" + item.skill_name + \"*  Â·  `\" + parseInt(item.installs).toLocaleString() + \"`\"\n        },\n        accessory: {\n          type: \"button\",\n          text: {\n            type: \"plain_text\",\n            text: \"æŸ¥çœ‹\",\n            emoji: true\n          },\n          url: \"https://skills.sh/\" + item.skills_repo + \"/\" + item.skill_name\n        }\n      })),\n    {\n      type: \"divider\"\n    },\n    {\n      type: \"section\",\n      text: {\n        type: \"mrkdwn\",\n        text: \"å…± \" + $json.data.length + \" å€‹æŠ€èƒ½ Â· ç¸½å®‰è£ \" + $json.data.reduce((sum, item) => sum + parseInt(item.installs), 0).toLocaleString() + \" æ¬¡\"\n      },\n      accessory: {\n        type: \"button\",\n        text: {\n          type: \"plain_text\",\n          text: \"ç€è¦½å…¨éƒ¨ â†’\",\n          emoji: true\n        },\n        url: \"https://skills.sh\"\n      }\n    }\n  ]\n}) }}",
        "text": "skills",
        "otherOptions": {}
      },
      "type": "n8n-nodes-base.slack",
      "typeVersion": 2.4,
      "position": [
        1424,
        -352
      ],
      "id": "e52fe972-0e47-42f3-bb1c-93ac7cdc9c29",
      "name": "ç™¼é€ Slack æ’è¡Œæ¦œé€šçŸ¥",
      "alwaysOutputData": true,
      "executeOnce": true
    },
    {
      "parameters": {
        "content": "## Created by darrell_tw_ \n\nHi æˆ‘æ˜¯ Darrell\næœ‰ n8n å•é¡Œå¯ä»¥æ‰¾æˆ‘èŠèŠ\n\n- [n8n æ•™å­¸è³‡æºç¶²ç«™](https://www.darrelltw.com/n8n-tutorial-resources/)\n- [n8n æ¨¡æ¿åˆ†äº«ç¶²ç«™](https://www.darrelltw.com/tools/n8n_template/models.html)\n\n### Social Media:\n[Website](https://www.darrelltw.com/)\n[X](https://x.com/darrell_tw_)\n[Threads](https://www.threads.net/@darrell_tw_)\n[Instagram](https://www.instagram.com/darrell_tw_/)\n![](https://pub-c093258f61a1463ea03e1a40c141968a.r2.dev/darrell-icon-128.svg)",
        "height": 468,
        "width": 312,
        "color": 7
      },
      "type": "n8n-nodes-base.stickyNote",
      "typeVersion": 1,
      "position": [
        -720,
        -320
      ],
      "id": "b8401f31-d830-44cb-bb62-6dd65af89d3b",
      "name": "Sticky Note4"
    },
    {
      "parameters": {
        "content": "## Attachment(é™„ä»¶)\n\nè«‹è¤‡è£½ä¸€ä»½ Google Sheet åˆ°è‡ªå·±çš„ Drive ä¸­\n\n### Google Sheet Template(æ¨¡æ¿)\n\nhttps://docs.google.com/spreadsheets/d/16h1oqwq4_Z2jpV-zFLxlSN7j643sbvzHN5QIDzGOF5k/copy",
        "height": 220,
        "width": 316,
        "color": 2
      },
      "type": "n8n-nodes-base.stickyNote",
      "typeVersion": 1,
      "position": [
        -720,
        160
      ],
      "id": "5242d608-2d3b-463e-bc95-7c0852085be3",
      "name": "Sticky Note2"
    }
  ],
  "pinData": {},
  "connections": {
    "æ¯æ—¥æ—©ä¸Š 8 é»è§¸ç™¼": {
      "main": [
        [
          {
            "node": "æŠ“å– Skills.sh è¶¨å‹¢é é¢",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "æŠ“å– Skills.sh è¶¨å‹¢é é¢": {
      "main": [
        [
          {
            "node": "æå–æ’è¡Œæ¦œåˆ—è¡¨",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "æå–æ’è¡Œæ¦œåˆ—è¡¨": {
      "main": [
        [
          {
            "node": "æ‹†åˆ†ç‚ºç¨ç«‹é …ç›®",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "æ‹†åˆ†ç‚ºç¨ç«‹é …ç›®": {
      "main": [
        [
          {
            "node": "å–å‰ 20 å",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "å–å‰ 20 å": {
      "main": [
        [
          {
            "node": "æå–æŠ€èƒ½åç¨±å’Œå®‰è£æ•¸",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "æå–æŠ€èƒ½åç¨±å’Œå®‰è£æ•¸": {
      "main": [
        [
          {
            "node": "è½‰æ›å®‰è£æ•¸ç‚ºæ•¸å­—",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "è½‰æ›å®‰è£æ•¸ç‚ºæ•¸å­—": {
      "main": [
        [
          {
            "node": "å½™ç¸½å…¨éƒ¨è³‡æ–™",
            "type": "main",
            "index": 0
          },
          {
            "node": "åŠ å…¥ä»Šæ—¥æ—¥æœŸ",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "å½™ç¸½å…¨éƒ¨è³‡æ–™": {
      "main": [
        [
          {
            "node": "ç™¼é€ Slack æ’è¡Œæ¦œé€šçŸ¥",
            "type": "main",
            "index": 0
          },
          {
            "node": "ç”Ÿæˆ Email æ’è¡Œæ¦œæ¨¡æ¿",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "åŠ å…¥ä»Šæ—¥æ—¥æœŸ": {
      "main": [
        [
          {
            "node": "å¯«å…¥ Google Sheets",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "ç”Ÿæˆ Email æ’è¡Œæ¦œæ¨¡æ¿": {
      "main": [
        [
          {
            "node": "å¯„é€ Email å ±å‘Š",
            "type": "main",
            "index": 0
          }
        ]
      ]
    }
  },
  "active": false,
  "settings": {
    "executionOrder": "v1"
  },
  "meta": {
    "templateCredsSetupCompleted": true
  },
  "tags": []
}